webpackJsonp([12],{"/5Yb":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e={name:"ShardGlass",created:function(){window.cnblogsConfig={essayTopAnimation:{triW:14,triH:20,neighbours:["side","top","bottom"],speedTrailAppear:.1,speedTrailDisappear:.1,speedTriOpen:1,trailMaxLength:30,trailIntervalCreation:100,delayBeforeDisappear:2,colors:["#96EDA6","#5BC6A9","#38668C","#374D84","#BED5CB","#62ADC6","#8EE5DE","#304E7B"]}};var t,i,s,e,o,n,h,r,a=window.cnblogsConfig.essayTopAnimation.triW,l=window.cnblogsConfig.essayTopAnimation.triH,p=window.cnblogsConfig.essayTopAnimation.neighbours,c=window.cnblogsConfig.essayTopAnimation.speedTrailAppear,d=window.cnblogsConfig.essayTopAnimation.speedTrailDisappear,f=window.cnblogsConfig.essayTopAnimation.speedTriOpen,g=window.cnblogsConfig.essayTopAnimation.trailMaxLength,w=window.cnblogsConfig.essayTopAnimation.trailIntervalCreation,u=window.cnblogsConfig.essayTopAnimation.delayBeforeDisappear,y=!0,T=window.cnblogsConfig.essayTopAnimation.colors,m=function(t,s,e){var o,n,h=this;this.selectedForTrail=!1,this.pos=t,this.col=s,this.row=e,this.alpha=this.tAlpha=1,this.color=T[Math.floor(Math.random()*T.length)],this.rgb=(o=this.color,(n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o))?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null),this.opened=!1,this.opening=!1,this.closing=!1,this.isLeft=this.pos%2,this.tX1=this.isLeft?(this.col+1)*a:this.col*a,this.tX2=this.isLeft?this.col*a:(this.col+1)*a,this.tX3=this.isLeft?(this.col+1)*a:this.col*a,this.x1=this.tX1,this.x2=this.tX1,this.x3=this.tX1,this.tY1=.5*this.row*l,this.tY2=.5*(this.row+1)*l,this.tY3=.5*(this.row+2)*l,this.y1=this.tY1,this.y2=this.tY1,this.y3=this.tY1,this.tweenClose,this.tweenOpen,this.draw=function(){i.fillStyle="rgba("+this.rgb.r+","+this.rgb.g+","+this.rgb.b+","+this.alpha+")",i.beginPath(),i.moveTo(this.x1,this.y1),i.lineTo(this.x2,this.y2),i.lineTo(this.x3,this.y3),i.closePath(),i.fill()},this.open=function(t,i,s,e){this.opened&&this.opening||(this.tweenClose&&this.tweenClose.kill(),this.opening=!0,this.direction=t||"top",this.delay=e||0,this.tAlpha=s,this.tSpeed=i||1.5,"side"==this.direction?(this.x1=this.x2=this.x3=this.tX1,this.y1=this.tY1,this.y2=this.tY2,this.y3=this.tY3):"top"==this.direction?(this.x1=(this.tX2+this.tX3)/2,this.x2=this.tX2,this.x3=this.tX3,this.y1=(this.tY2+this.tY3)/2,this.y2=this.tY2,this.y3=this.tY3):"bottom"==this.direction&&(this.x1=this.tX1,this.x2=this.tX2,this.x3=(this.tX1+this.tX2)/2,this.y1=this.tY1,this.y2=this.tY2,this.y3=(this.tY1+this.tY2)/2),this.tweenOpen=TweenMax.to(this,this.tSpeed,{x1:this.tX1,x2:this.tX2,x3:this.tX3,y1:this.tY1,y2:this.tY2,y3:this.tY3,alpha:this.tAlpha,ease:Strong.easeInOut,delay:this.delay,onComplete:v,onCompleteParams:[h]}))},this.close=function(t,i,s){var e,o,n,r,a,l;this.direction=t||"top",this.delay=s||1,this.tSpeed=i||.8,this.opened=!1,this.closing=!0,"side"==this.direction?(e=o=n=this.tX1,r=this.tY1,a=this.tY2,l=this.tY3):"top"==this.direction?(e=(this.tX2+this.tX3)/2,o=this.tX2,n=this.tX3,r=(this.tY2+this.tY3)/2,a=this.tY2,l=this.tY3):"bottom"==this.direction&&(e=this.tX1,o=this.tX2,n=(this.tX1+this.tX2)/2,r=this.tY1,a=this.tY2,l=(this.tY1+this.tY2)/2),this.tweenClose&&this.tweenClose.kill(),this.tweenClose=TweenMax.to(this,this.tSpeed,{x1:e,x2:o,x3:n,y1:r,y2:a,y3:l,alpha:0,ease:Strong.easeInOut,delay:this.delay,onComplete:C,onCompleteParams:[h]})}};function v(t){t.opened=!0,t.opening=!1,t.closing=!1}function C(t){t.opened=!1,t.opening=!1,t.closing=!1}function Y(){var t;!function(){for(var t=0;t<h.length;t++)h[t].selectedForTrail=!1}();var i=Math.floor(Math.random()*g-2)+2,s=Math.round(Math.random()*h.length);if(startTri=h[s],"undefined"==typeof startTri||void 0===startTri.selectedForTrail)return!1;startTri.selectedForTrail=!0,t={tri:startTri,openDir:"side",closeDir:"side"};for(var e=0;e<i;e++){var o,n=b(t.tri);if(null==n){t.tri.open(t.openDir,f,o,(e+1)*c),t.tri.close(t.closeDir,1,u+(e+1)*d);break}n.tri.selectedForTrail=!0,o=y&&Math.random()<.8?.5*Math.random():1,t.tri.closeDir=n.openDir,t.tri.open(t.openDir,f,o,e*c),t.tri.close(t.closeDir,1,u+e*d),t=n}}function b(t){!function(t){for(var i,s,e=t.length;e;i=Math.floor(Math.random()*e),s=t[--e],t[e]=t[i],t[i]=s);}(p);for(var i=0;i<p.length;i++)if("top"==p[i]){if(0!=t.row&&!h[t.pos-o].selectedForTrail&&!h[t.pos-o].opened)return{tri:h[t.pos-o],openDir:"top",closeDir:"top"}}else if("bottom"==p[i]){if(t.row!=n-1&&!h[t.pos+o].selectedForTrail&&!h[t.pos+o].opened)return{tri:h[t.pos+o],openDir:"bottom",closeDir:"top"}}else{if(t.isLeft&&t.col!=o-1&&!h[t.pos+1].selectedForTrail&&!h[t.pos+1].opened)return{tri:h[t.pos+1],openDir:"side",closeDir:"top"};if(!t.isLeft&&0!=t.col&&!h[t.pos-1].selectedForTrail&&!h[t.pos-1].opened)return{tri:h[t.pos-1],openDir:"side",closeDir:"top"}}return null}function x(){i.clearRect(0,0,t.width,t.height);for(var s=0;s<h.length;s++)h[s].draw()}function X(){s=t.width=t.scrollWidth,e=t.height=t.scrollHeight,rectCanvas=t.getBoundingClientRect(),function(){r&&clearInterval(r);D(),function(){for(var t=0;t<n;t++)for(var i=0;i<o;i++){var s=i+t*o,e=new m(s,i,t);h.push(e),e.draw()}}(),r=setInterval(Y,w),Y()}()}function D(){o=(o=Math.floor(s/a))%2?o:o-1,n=2*Math.floor(e/l),h=[]}!function(t){var i=document.getElementById(t);i.getContext("2d"),i.width=i.scrollWidth,i.height=i.scrollHeight,D(),window.addEventListener("resize",X),TweenLite.ticker.addEventListener("tick",x),X()}("notHomeTopCanvas")}},o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("canvas",{attrs:{id:"notHomeTopCanvas"}})])}]};var n=s("VU/8")(e,o,!1,function(t){s("MsL1")},"data-v-70a0b522",null);i.default=n.exports},MsL1:function(t,i){}});
//# sourceMappingURL=12.f3ef67250d7b91335dcb.js.map